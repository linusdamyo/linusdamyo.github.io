---
layout: post
title:  "TIL: 정규식의 일부"
categories: regex
---

### 첫번째

`\d` 는 `[0-9]` 와 다르다.
> 몇 언어에서는 `\d` 에서 로마숫자나 유니코드의 숫자들 계열도 체크되는 경우가 있다.   
> 정확히 숫자만 체크하고 싶을때는 `[0-9]`를 쓰는 편이 좋겠다. 개인적으로 가독성도 더 좋은거 같다.

### 두번째

숫자와 콤마로 이뤄진 문자열 체크    

1. 이를 테면, `1,2,3`의 형식을 체크한다.
1. `1,,2,3` 처럼 콤마가 연속되면 안된다.
1. `123`처럼 숫자만 오는건 허용한다.
1. `,1` 콤마로 시작하거나, `1,` 콤마로 끝나면 안된다.

처음에 만든 정규식은 이렇다.

1. `^[0-9]+$` 숫자만 있으면 허용한다.
1. `^[0-9,]+[0-9]$` 로 체크한다.
1. `,,` 패턴이 있으면 실패
1. `^,` 혹은 `,$` 패턴은 실패

이상한모임에 물어봤다.

1. headaal 님이 만들어주신 정규식   
`^(\d+,)+(\d+)$`
> 완전 훌륭함.  
> 문제는 숫자만 있는 패턴은 걸리지 않는다.
> 하지만, 처음에 숫자만 있는 패턴에 대한 조건을 말씀드리지 않아서 거기까진 신경을 안써주신거 같다.

2. narusas 님이 만들어주신 정규식   
`^(\d+,)*(\d+)$`
> =b 해결.  
> haedaal 님과 같은 정규식 형태지만, 말씀드리지 않았던 숫자만 있는 케이스까지 고려해서 만들어주셨다.

두 분이 같은 형태로 만들어주셨는데, 패턴을 두부분으로 나눠서 정복한다.

1. `()`를 이용해서 숫자/콤마 패턴과 숫자패턴을 나눈다.  
1. 숫자/콤마 패턴은 반복이 되므로 `+` 혹은 `*`
1. 여기서는 숫자만 있는 패턴이 있으므로 `*`를 사용한다.
1. 뒷부분의 숫자패턴은 반드시 하나이상 있어야 한다.

최종 패턴은 첫번째의 이유로 `\d`를 `[0-9]`로 변경했다.

### `^([0-9]+,)*([0-9]+)$`